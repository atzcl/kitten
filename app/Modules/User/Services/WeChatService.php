<?phpdeclare(strict_types = 1);/*+-----------------------------------------------------------------------------------------------------------------------|+-----------------------------------------------------------------------------------------------------------------------| 微信服务|*/namespace Modules\User\Services;use App\Foundation\WeChat\WeChat;class WeChatService{    /**     * 登录类型     *     * @param string $type     * @return string     */    public function socialType(string $type)    {        // 目前只需要微信登录        /* switch ($type) {            case 'wechat':                //                break;            case 'qq':                //                break;        } */        return 'weChat';    }    /**     * 发起微信登录授权     *     * @return \Symfony\Component\HttpFoundation\RedirectResponse     */    public function weChatOauth()    {        $app = app(WeChat::class);        return $app->officialAccount()->oauth->setRedirectUrl('http://shop.test')->redirect();    }    /**     * 获取微信授权的用户数据     *     * @return $this|\Overtrue\Socialite\User     */    public function weChatUser()    {        $app = app(WeChat::class);        return $app->officialAccount()->oauth->user();    }}